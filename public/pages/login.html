<form id="loginForm" action=# autocomplete="off">
	<p class="col_2">
		<label for="username">Username:</label>
		<input type="text" id="username" name="username" />
	</p>
	<p class="col_2">
		<label for="password">Password:</label>
		<input type="password" id="password" name="password" />
	</p>
	<a class="col_1 navlink" pageId="forgot" href="#">Forgot Password?</a>
	<p class="col_1">
		<input type="submit" id="login" value="Login" />
	</p>
</form>

<script type="text/javascript">
	
	$(document).ready(function() {
		
		$('#login').click(function(e) {
			//Disable posting form data to webpage
			e.preventDefault();

			//Gather form data and format it into basic auth
			var formData = $('#loginForm').serializeArray();
			var basicAuth = btoa(formData[0].value+':'+formData[1].value);
			
			
			//var jsondata = {};
			
			//jQuery.each(formdata, function() {
			//	jsondata[this.name] = this.value || '';
			//});
			
			//jsondata = JSON.stringify(jsondata);

			$.ajax({
				url: "../api/game/login",
				type: "POST",
				headers: {'Authorization': 'Basic '+basicAuth},
				success: function(resultdata)
				{
					// Set the global userAuth variable
					userAuth = basicAuth;
					
					// Replace Login button with Logout button
					$('#auth').empty();
					$('#auth').html('<a href="#">Logout</a>');
					
					// Redirect user to home page
					$('#content').load('pages/home.html');
					
				},
				error: function(resultdata)
				{
					console.log(resultdata);
				}
			});
		});
		
	});
	
</script>
<h2>Register</h2>
<div class="block font-right">
	<form id="registerform" autocomplete="off" onsubmit="">
		<p>
			<label for="username">Username:</label>
			<input type="text" id="username" name="username" />
		</p>
		<p>
			<label for="password">Password:</label>
			<input type="password" id="password" name="password" />
		</p>
		<p>
			<label for="confirm">Confirm Password:</label>
			<input type="password" id="confirm" name="confirmpassword" />
		</p>
		<p>
			<label for="password">Email Address:</label>
			<input type="email" id="email" name="email" />
		</p>
			<button id="register">Register</button>

	</form>
</div>

<script type="text/javascript">
	
	$(document).ready(function() {
		
		$('#register').click(function(e) {
			//Disable posting form data to webpage
			e.preventDefault();
			
			//Gather form data and format it into JSON
			var formData = $('#registerform').serializeArray();
			var jsonData = {};
			jQuery.each(formData, function() {
				jsonData[this.name] = this.value || '';
			});
			
			// POST the request to the register API
			$.ajax({
				url: "../api/register",
				type: "POST",
				data: jsonData,
				dataType: "application/json",
				statusCode: {
					201: function() {
						$('#content').load('pages/registersuccess.html');
					}
				}
			});
			
		});
	});
	
</script>